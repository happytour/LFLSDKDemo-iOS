(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d022cbc2"],{"109b":function(t,s,o){"use strict";o.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"pointsMall"},[a("div",{staticClass:"pointsMall_head"},[a("i",{staticClass:"icon_arrow_left",on:{click:t.goBack}}),a("p",[t._v("积分兑换")]),a("p",{staticClass:"order",on:{click:t.toExchangeRecord}},[a("span",[t._v("兑换记录")])])]),a("syfulizhi"),a("p",{staticClass:"pointsMall_title2"},[t._v("温馨提示：虚拟商品兑换后不可撤回，请兑换前仔细核对。")]),a("ul",{staticClass:"commodity_list"},t._l(t.commodityList,(function(s){return a("li",{key:s.id},[a("div",{staticClass:"commodity_list_img",style:"background-image: url("+s.commodityMainImg+");"}),a("p",{staticClass:"commodity_list_title"},[t._v(t._s(s.commodityName))]),a("p",{staticClass:"commodity_list_welfare"},[a("span",[t._v(t._s(s.amount))]),a("span",{staticClass:"act"},[t._v("积分")])]),a("p",{staticClass:"commodity_list_btn",on:{click:function(o){return t.toDetails(s)}}},[t._v("确认兑换")])])})),0),0==t.commodityList.length?a("div",[a("van-empty",{attrs:{description:"暂无商品"}})],1):t._e(),t.pointsMallPopupFlag?a("div",{staticClass:"pointsMall_popup"},[a("div",{staticClass:"pointsMall_popup_shadow",on:{click:t.closePopup}}),a("div",{staticClass:"pointsMall_popup_main"},[a("p",{staticClass:"pointsMall_popup_title"},[t._v("确认兑换")]),a("div",{staticClass:"pointsMall_popup_goods"},[a("div",{staticClass:"pointsMall_popup_goods_box"},[a("img",{staticClass:"pointsMall_popup_goods_img",attrs:{src:t.pointsMallPopupItem.commodityMainImg,alt:""}}),a("div",{staticClass:"pointsMall_popup_goods_box_box"},[a("p",{staticClass:"text1"},[t._v(t._s(t.pointsMallPopupItem.commodityName))]),a("p",{staticClass:"text2"},[t._v(t._s(t.pointsMallPopupItem.amount)+"积分")])])]),a("p",{staticClass:"pointsMall_popup_goods_conut"},[t._v("X1")])]),a("p",{staticClass:"pointsMall_popup_money"},[a("span",{staticClass:"text1"},[t._v("实际支付：")]),a("span",{staticClass:"text2"},[t._v(t._s(t.pointsMallPopupItem.amount)+"积分")])]),a("p",{staticClass:"pointsMall_popup_tips"},[t._v("虚拟用品不可退款哦，兑换后可直接使用")]),a("img",{staticClass:"btn_pointsMall_popup",attrs:{src:o("6cfb"),alt:""},on:{click:t.exchangeAddOrder}})])]):t._e()],1)},i=[],e=o("18c6"),l={name:"pointsMall",components:{syfulizhi:e["a"]},data:function(){return{pointsMallPopupFlag:!1,commodityList:[],pointsMallPopupItem:{}}},mounted:function(){var t=this,s=localStorage.getItem("obj");t.obj=JSON.parse(s),t.exchangeCommodityList()},methods:{goBack:function(){this.$router.go(-1)},toDetails:function(t){var s=this;s.pointsMallPopupItem=t,s.pointsMallPopupFlag=!0},toExchangeRecord:function(){this.$router.push({path:"/exchangeRecord"})},exchangeCommodityList:function(){var t=this,s=t.byte256.byte256.encode(t.key,JSON.stringify(t.obj));t.$axios({method:"post",url:"/exchange/commodityList",data:s}).then((function(s){if(200===s.data.code){var o=JSON.parse(t.byte256.byte256.decode(t.reverse_key,s.data.data));console.log(o),t.commodityList=o}}))},exchangeAddOrder:function(){var t=this,s={commodityId:t.pointsMallPopupItem.id},o=Object.assign(t.obj,s),a=t.byte256.byte256.encode(t.key,JSON.stringify(o));t.$axios({method:"post",url:"/exchange/addOrder",data:a}).then((function(s){console.log("addOrder=====",s),200===s.data.code&&(t.pointsMallPopupFlag=!1,t.$toast("兑换成功"))}))},closePopup:function(){this.pointsMallPopupFlag=!1}}},n=l,c=(o("92e0"),o("2877")),p=Object(c["a"])(n,a,i,!1,null,"ba572ef6",null);s["default"]=p.exports},"18c6":function(t,s,o){"use strict";var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"syfulizhi"},[o("p",{staticClass:"pointsMall_title1"},[o("i",{staticClass:"icon_pointsMall1"}),o("span",[t._v("当前积分剩余："),o("b",[t._v(t._s(t.$store.state.amount))])])])])},i=[],e={name:"syfulizhi",data:function(){return{obj:{}}},mounted:function(){var t=this,s=localStorage.getItem("obj");t.obj=JSON.parse(s),t.getUserLuckyValue()},methods:{getUserLuckyValue:function(){var t=this,s=t.byte256.byte256.encode(t.key,JSON.stringify(t.obj));t.$axios({method:"post",url:"/getUserLuckyValue",data:s}).then((function(s){if(200===s.data.code){var o=JSON.parse(t.byte256.byte256.decode(t.reverse_key,s.data.data));t.userLuckyValue=o,console.log("reData-----",o),console.log("$store-----",t.$store.state),t.$store.commit("increment",o.amount-t.$store.state.amount)}}))}}},l=e,n=(o("714b"),o("2877")),c=Object(n["a"])(l,a,i,!1,null,null,null);s["a"]=c.exports},"1f64":function(t,s,o){},"6cfb":function(t,s,o){t.exports=o.p+"img/btn_pointsMall_popup.fde3f49a.png"},"714b":function(t,s,o){"use strict";o("f102")},"92e0":function(t,s,o){"use strict";o("1f64")},f102:function(t,s,o){}}]);
//# sourceMappingURL=chunk-d022cbc2.f683e34e.js.map