(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e2fbe5c"],{4936:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"freeAccess"},[i("div",{staticClass:"freeAccess_header"},[i("i",{staticClass:"icon_arrow_left",on:{click:t.goBack}}),i("p",{staticClass:"freeAccess_title"},[t._v("免费领")])]),i("div",{staticClass:"freeAccess_banner"},[i("div",{staticClass:"freeAccess_banner_rule",on:{click:function(s){return t.toPath("/activityRules")}}})]),i("div",{staticClass:"freeAccess_zjgs"},[i("img",{staticClass:"icon_header",attrs:{src:e("cbdc")}}),i("div",{staticClass:"freeAccess_zjgs_swiper"},[i("van-swipe",{attrs:{vertical:"","show-indicators":!1,autoplay:"3000",loop:"",touchable:!1}},t._l(t.rotationList,(function(s,e){return i("van-swipe-item",{key:e},[i("p",{staticClass:"freeAccess_zjgs_text"},[t._v(t._s(s))])])})),1)],1),i("img",{staticClass:"img_zjgs_btn",attrs:{src:e("52ff")},on:{click:function(s){return t.toPath("/freeAccess/winningPublicity")}}})]),i("div",{staticClass:"freeAccess_goods"},[i("ul",{staticClass:"freeAccess_type_list"},t._l(t.typeList,(function(s,e){return i("li",{key:e,on:{click:function(e){return t.selectType(s)}}},[i("span",{class:t.nowType==s.sort?"act":""},[t._v(t._s(s.category))])])})),0),i("ul",{staticClass:"goods_list"},t._l(t.foodsList,(function(s,e){return i("li",{key:e,on:{click:function(e){return t.toFoodsDetails(s)}}},[i("img",{staticClass:"img_goods",attrs:{src:s.commodityMainImg,alt:""}}),i("div",{staticClass:"goods_list_box"},[i("p",{staticClass:"text1"},[i("img",{staticClass:"icon_logo",attrs:{src:s.logo,alt:""}}),i("span",[t._v(t._s(s.commodityName))])]),i("p",{staticClass:"text2"},[i("i",{staticClass:"icon_time"}),i("span",[t._v("开奖时间："+t._s(s.endTimeStr))])]),i("p",{staticClass:"text3"},[i("i",{staticClass:"icon_gift"}),i("span",[t._v("共"+t._s(s.quantity)+"份奖品")]),i("i",{staticClass:"icon_heat"}),i("span",[t._v("已参与"+t._s(s.totalCount)+"次")])]),i("p",{staticClass:"text4"},[i("span",{staticClass:"span1"},[t._v("0元 | 包邮")]),i("span",{staticClass:"span2"},[t._v(t._s("￥ "+s.officialPrice))])])]),i("p",{staticClass:"goods_list_stage"},[t._v("第"+t._s(s.cycle)+"期")]),i("p",{staticClass:"goods_list_btn"})])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.adLoadingFlag,expression:"adLoadingFlag"}],staticClass:"shadow"},[i("van-loading",{attrs:{size:"36px",vertical:"","text-color":"#ffffff",color:"#ffffff"}},[t._v("加载中...")])],1)])},a=[],o=(e("ac1f"),e("5319"),e("4e82"),{name:"freeAccess",data:function(){return{obj:{},nowType:"1",typeList:[{id:0,category:"话费抵扣券",sort:"1",type:"lfl_commodity_type"},{id:1,category:"B612商品",sort:"2",type:"lfl_commodity_type"},{id:2,category:"人气商品",sort:"3",type:"populargoods"},{id:3,category:"即将开奖",sort:"4",type:"lfl_commodity_type"}],foodsList:[],rotationList:[],adLoadingFlag:!1}},mounted:function(){var t=localStorage.getItem("obj");this.obj=JSON.parse(t),this.getMediaFreeReceiveConfig(),this.indexWinPrizeRotation()},methods:{goBack:function(){var t=window.history.length-1;window.history.go(-t),this.$router.replace({path:"/"})},toPath:function(t){var s=this;s.$router.push({path:t})},toFoodsDetails:function(t){var s=JSON.stringify(t);localStorage.setItem("itemObj",s),this.$router.push({path:"/freeAccess/foodsDetails"})},selectType:function(t){this.nowType=t.sort,this.freeGoodsList(t.type)},getMediaFreeReceiveConfig:function(){var t=this;t.adLoadingFlag=!0;var s=t.byte256.byte256.encode(t.key,JSON.stringify(t.obj));t.$axios({method:"post",url:"/freebase/getMediaFreeReceiveConfig",data:s}).then((function(s){if(200===s.data.code){var e=JSON.parse(t.byte256.byte256.decode(t.reverse_key,s.data.data)),i=e.category.sort((function(t,s){return t.sort-s.sort}));t.typeList=i,t.nowType=t.typeList[0].sort,t.freeGoodsList(t.typeList[0].type)}t.adLoadingFlag=!1}))},freeGoodsList:function(t){var s=this;s.adLoadingFlag=!0;var e={commodityType:t},i=Object.assign(s.obj,e),a=s.byte256.byte256.encode(s.key,JSON.stringify(i));s.$axios({method:"post",url:"/free/goods/list",data:a}).then((function(t){if(200===t.data.code){var e=JSON.parse(s.byte256.byte256.decode(s.reverse_key,t.data.data));for(var i in e)e[i].endTimeStr=s.$timestampTpDate(e[i].endTime,"ymdhms");s.foodsList=e}s.adLoadingFlag=!1}))},indexWinPrizeRotation:function(){var t=this;t.adLoadingFlag=!0;var s=t.byte256.byte256.encode(t.key,JSON.stringify(t.obj));t.$axios({method:"post",url:"/prize/indexWinPrizeRotation",data:s}).then((function(s){if(200===s.data.code){var e=JSON.parse(t.byte256.byte256.decode(t.reverse_key,s.data.data));console.log("indexWinPrizeRotation=====",e),t.rotationList=e}t.adLoadingFlag=!1}))}}}),c=o,n=(e("9017"),e("2877")),r=Object(n["a"])(c,i,a,!1,null,"0093aa9d",null);s["default"]=r.exports},"52ff":function(t,s,e){t.exports=e.p+"img/img_zjgs_btn.f6ba2087.png"},9017:function(t,s,e){"use strict";e("ccb1")},cbdc:function(t,s,e){t.exports=e.p+"img/icon_zjmd.45ad6fff.png"},ccb1:function(t,s,e){}}]);
//# sourceMappingURL=chunk-3e2fbe5c.8de39822.js.map