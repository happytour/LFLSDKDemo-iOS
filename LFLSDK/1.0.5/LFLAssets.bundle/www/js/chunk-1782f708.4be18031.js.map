{"version":3,"sources":["webpack:///./src/views/myCoupons.vue?a3ad","webpack:///./src/views/myCoupons.vue?cd5f","webpack:///src/views/myCoupons.vue","webpack:///./src/views/myCoupons.vue?fd45","webpack:///./src/views/myCoupons.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","goBack","_v","_l","item","index","key","id","class","nowTypeId","$event","selectType","_s","text","selectCoupons","attrs","imgUrl","name","Date","overdueTime","toLocaleString","hour12","replace","directives","rawName","value","expression","nowCoupons","myCouponsList","length","_e","toUse","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1782f708.4be18031.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCoupons.vue?vue&type=style&index=0&id=5b83f799&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myCoupons\"},[_c('div',{staticClass:\"myCoupons_head\"},[_c('i',{staticClass:\"icon_arrow_left_black\",on:{\"click\":_vm.goBack}}),_c('p',[_vm._v(\"我的抵扣券\")])]),_c('ul',{staticClass:\"myCoupons_type\"},_vm._l((_vm.myCouponsTypeList),function(item,index){return _c('li',{key:item.id,class:item.id == _vm.nowTypeId ? 'act' : '',on:{\"click\":function($event){return _vm.selectType(index)}}},[_vm._v(_vm._s(item.text))])}),0),_c('ul',{staticClass:\"myCoupons_list\"},[_vm._l((_vm.myCouponsList),function(item,index){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.selectCoupons(index)}}},[_c('img',{staticClass:\"img_myCoupons_list\",attrs:{\"src\":item.imgUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"myCoupons_list_box\"},[_c('p',{staticClass:\"myCoupons_list_title1\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"myCoupons_list_title2\"},[_vm._v(\"到期时间：\"+_vm._s(new Date(item.overdueTime).toLocaleString('chinese',{hour12:false}).replace(/\\//g,'-')))])]),_c('van-checkbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nowTypeId == 0),expression:\"nowTypeId == 0\"}],attrs:{\"value\":_vm.nowCoupons == index,\"checked-color\":\"#0cd4d2\",\"icon-size\":\"0.4rem\"}})],1)}),(_vm.myCouponsList.length == 0)?_c('li',[_c('van-empty',{attrs:{\"description\":\"暂没有抵扣券\"}})],1):_vm._e()],2),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nowTypeId == 0 && _vm.myCouponsList.length > 0),expression:\"nowTypeId == 0 && myCouponsList.length > 0\"}],staticClass:\"btn_myCoupons\",on:{\"click\":_vm.toUse}},[_vm._v(\"去使用\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingFlag),expression:\"loadingFlag\"}],staticClass:\"shadow\"},[_c('van-loading',{attrs:{\"size\":\"36px\",\"vertical\":\"\",\"text-color\":\"#ffffff\",\"color\":\"#ffffff\"}},[_vm._v(\"加载中...\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"myCoupons\">\r\n\t\t<div class=\"myCoupons_head\">\r\n\t\t\t<i class=\"icon_arrow_left_black\" @click=\"goBack\"></i>\r\n\t\t\t<p>我的抵扣券</p>\r\n\t\t</div>\r\n\t\t<ul class=\"myCoupons_type\">\r\n\t\t\t<li :class=\"item.id == nowTypeId ? 'act' : '' \" v-for=\"(item,index) in myCouponsTypeList\" :key=\"item.id\" @click=\"selectType(index)\">{{ item.text }}</li>\r\n\t\t</ul>\r\n\t\t<ul class=\"myCoupons_list\">\r\n\t\t\t<li v-for=\"(item,index) in myCouponsList\" :key=\"item.id\" @click=\"selectCoupons(index)\">\r\n\t\t\t\t<img :src=\"item.imgUrl\" alt=\"\" class=\"img_myCoupons_list\">\r\n\t\t\t\t<div class=\"myCoupons_list_box\">\r\n\t\t\t\t\t<p class=\"myCoupons_list_title1\">{{ item.name }}</p>\r\n\t\t\t\t\t<p class=\"myCoupons_list_title2\">到期时间：{{ new Date(item.overdueTime).toLocaleString('chinese',{hour12:false}).replace(/\\//g,'-') }}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<van-checkbox v-show=\"nowTypeId == 0\" :value=\"nowCoupons == index\" checked-color=\"#0cd4d2\" icon-size=\"0.4rem\"></van-checkbox>\r\n\t\t\t</li>\r\n\t\t\t<li v-if=\"myCouponsList.length == 0\">\r\n\t\t\t\t<van-empty description=\"暂没有抵扣券\" />\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<p class=\"btn_myCoupons\" v-show=\"nowTypeId == 0 && myCouponsList.length > 0\" @click=\"toUse\">去使用</p>\r\n\t\t<div v-show=\"loadingFlag\" class=\"shadow\">\r\n\t\t\t<van-loading size=\"36px\" vertical text-color=\"#ffffff\" color=\"#ffffff\">加载中...</van-loading>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tname:'myCoupons',\r\n\t\tdata() {\r\n\t\t\treturn{\r\n\t\t\t\tchecked: true,\r\n\t\t\t\tnowTypeId:0,\r\n\t\t\t\tmyCouponsTypeList:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid:0,\r\n\t\t\t\t\t\ttext:'可用',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid:1,\r\n\t\t\t\t\t\ttext:'已使用',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid:2,\r\n\t\t\t\t\t\ttext:'已过期',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tnowCoupons:0,\r\n\t\t\t\tmyCouponsList:[],\r\n\t\t\t\tloadingFlag:false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet _this = this;\r\n\t\t\tvar jsonObj = localStorage.getItem(\"obj\");\r\n\t\t\t_this.obj = JSON.parse(jsonObj);\r\n\t\t\t_this.cardList();\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgoBack(){\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t},\r\n\t\t\tselectType(i){\r\n\t\t\t\tthis.nowTypeId = this.myCouponsTypeList[i].id;\r\n\t\t\t\tthis.cardList();\r\n\t\t\t},\r\n\t\t\tcardList(){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tvar exclusiveObj = {\r\n\t\t\t\t\tcardStatus:_this.nowTypeId\r\n\t\t\t\t}\r\n\t\t\t\tvar requestData = Object.assign(_this.obj,exclusiveObj);\r\n\t\t\t\tvar data = _this.byte256.byte256.encode(_this.key, JSON.stringify(requestData));\r\n\t\t\t\t_this.loadingFlag = true;\r\n\t\t\t\t_this.$axios({\r\n\t\t\t\t  method: 'post',\r\n\t\t\t\t  url: '/user/card/list',\r\n\t\t\t\t  data:data,\r\n\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t_this.loadingFlag = false;\r\n\t\t\t\t  if(res.data.code === 200){\r\n\t\t\t\t\tvar reData = JSON.parse(_this.byte256.byte256.decode(_this.reverse_key, res.data.data));\r\n\t\t\t\t\tconsole.log(reData);\r\n\t\t\t\t\t_this.myCouponsList = reData;\r\n\t\t\t\t  }else{\r\n\t\t\t\t\t  _this.$toast(res.data.msg);\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tselectCoupons(i){\r\n\t\t\t\tconsole.log(i);\r\n\t\t\t\tthis.nowCoupons = i\r\n\t\t\t},\r\n\t\t\ttoUse(){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tvar obj = {\r\n\t\t\t\t\tamount:_this.myCouponsList[_this.nowCoupons].amount,\r\n\t\t\t\t\tid:_this.myCouponsList[_this.nowCoupons].id\r\n\t\t\t\t}\r\n\t\t\t\t_this.$store.commit('selectBond',obj);\r\n\t\t\t\tif(_this.$route.query.type == 1){\r\n\t\t\t\t\t_this.$router.go(-1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t_this.$router.push({path:'/payPhone'});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.myCoupons{\r\n\t\twidth: 10.8rem;\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f4f4f4;\r\n\t\tpadding-bottom:2rem;\r\n\t}\r\n\t.myCoupons_head{\r\n\t\twidth: 100%;\r\n\t\theight: 1.51rem;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding-top:var(--barHeight);\r\n\t}\r\n\t.icon_arrow_left_black{\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t\twidth:0.56rem;\r\n\t\theight:0.56rem;\r\n\t\tbackground-image: url(../static/img/icon_arrow_left_black.png);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100%;\r\n\t\tposition: relative;\r\n\t\tz-index: 4;\r\n\t\tmargin:0.47rem 0 0 0.33rem;\r\n\t}\r\n\t.myCoupons_head p{\r\n\t\twidth: 100%;\r\n\t\theight: 1.51rem;\r\n\t\tline-height: 1.51rem;\r\n\t\tposition: absolute;\r\n\t\tbottom:0;\r\n\t\tleft:0;\r\n\t\tz-index: 2;\r\n\t\ttext-align: center;\r\n\t\tcolor:#000;\r\n\t\tfont-size: 0.48rem;\r\n\t}\r\n\t.myCoupons_type{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\tline-height: 0.8rem;\r\n\t\tpadding: 0.4rem 0;\r\n\t}\r\n\t.myCoupons_type li{\r\n\t\twidth: 1.95rem;\r\n\t\tcolor:#000;\r\n\t\tborder-bottom:0.03rem solid transparent;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 0.48rem;\r\n\t}\r\n\t.myCoupons_type .act{\r\n\t\tfont-weight: 600;\r\n\t\tcolor:#0cd4d2;\r\n\t\tborder-bottom:0.03rem solid #0cd4d2;\r\n\t}\r\n\t.myCoupons_list{\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding:0 0.23rem;\r\n\t}\r\n\t.myCoupons_list li{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 0.3rem;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding:0.33rem;\r\n\t\tmargin-bottom:0.3rem;\r\n\t}\r\n\t.myCoupons_list li .img_myCoupons_list{\r\n\t\twidth: 1.2rem;\r\n\t\theight: 1.2rem;\r\n\t}\r\n\t.myCoupons_list li .myCoupons_list_box{\r\n\t\twidth: 7rem;\r\n\t}\r\n\t.myCoupons_list_title1{\r\n\t\tcolor:#232426;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 0.48rem;\r\n\t\tline-height: 0.8rem;\r\n\t}\r\n\t.myCoupons_list_title2{\r\n\t\tcolor:#232426;\r\n\t\tfont-size: 0.36rem;\r\n\t\tline-height: 0.6rem;\r\n\t}\r\n\t.btn_myCoupons{\r\n\t\twidth: 10rem;\r\n\t\theight: 1.2rem;\r\n\t\tborder-radius: 0.6rem;\r\n\t\tline-height: 1.2rem;\r\n\t\ttext-align: center;\r\n\t\tcolor:#fff;\r\n\t\tfont-size: 0.48rem;\r\n\t\tbackground-color: #ff588c;\r\n\t\tposition: fixed;\r\n\t\tbottom:0.3rem;\r\n\t\tleft:50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCoupons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myCoupons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myCoupons.vue?vue&type=template&id=5b83f799&scoped=true&\"\nimport script from \"./myCoupons.vue?vue&type=script&lang=js&\"\nexport * from \"./myCoupons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myCoupons.vue?vue&type=style&index=0&id=5b83f799&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b83f799\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}