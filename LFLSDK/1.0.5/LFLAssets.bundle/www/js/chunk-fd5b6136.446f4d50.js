(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd5b6136"],{"7f46":function(e,a,t){"use strict";t("c752")},b52c:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"payPhoneConfirm"},[t("div",{staticClass:"payPhoneConfirm_head"},[t("i",{staticClass:"icon_arrow_left_black",on:{click:e.goBack}}),t("p",{staticClass:"payPhoneConfirm_head_title"},[e._v("确认下单")])]),t("div",{staticClass:"payPhoneConfirm_main"},[t("div",{staticClass:"payPhoneConfirm_box"},[t("img",{staticClass:"payPhoneConfirm_box_img",attrs:{src:e.payData.imgPath,alt:""}}),t("div",[t("p",{staticClass:"payPhoneConfirm_box_text1"},[e._v("联通、电信、移动"+e._s(e.payData.amount)+"元话费充值")]),t("p",{staticClass:"payPhoneConfirm_box_text2"},[e._v("充值号码："+e._s(e.phone))])])]),t("div",{staticClass:"payPhoneConfirm_box flex"},[t("p",{staticClass:"payPhoneConfirm_box_text3"},[e._v("优惠折扣：")]),t("p",{staticClass:"payPhoneConfirm_box_text4"},[e._v(e._s("-¥"+(e.payData.amount-e.payData.payAmount)+"("+e.discount+"折)"))])]),t("div",{staticClass:"payPhoneConfirm_box flex"},[t("p",{staticClass:"payPhoneConfirm_box_text3"},[e._v("福利值抵扣：")]),t("p",{staticClass:"payPhoneConfirm_box_text4",on:{click:e.selectBond}},[e._v(e._s(""!=e.$store.state.bond.id?"- ¥"+e.$store.state.bond.amount+"元":"选择抵扣券"))])]),e._m(0),t("div",{staticClass:"payPhoneConfirm_box flex"},[t("p",{staticClass:"payPhoneConfirm_box_text3"},[e._v("实际支付：")]),t("p",{staticClass:"payPhoneConfirm_box_text4 color_ff588c"},[e._v(e._s(e.payData.payAmount-e.$store.state.bond.amount>0?"¥"+(e.payData.payAmount-e.$store.state.bond.amount):"¥0"))])]),t("div",{staticClass:"payPhoneConfirm_box flex"},[t("p",{staticClass:"payPhoneConfirm_box_text3"},[e._v("福利值赠送：")]),t("p",{staticClass:"payPhoneConfirm_box_text4 color_ff588c"},[e._v(e._s(Math.floor((e.payData.payAmount-e.$store.state.bond.amount)/10)*e.cashBack))])]),t("p",{staticClass:"btn_pay",on:{click:e.pay}},[e._v("确认支付")]),t("van-checkbox",{attrs:{"checked-color":"#0cd4d2","icon-size":"0.5rem"},model:{value:e.checked,callback:function(a){e.checked=a},expression:"checked"}},[t("span",{staticClass:"checkedText"}),e._v("支付既代表同意【下单说明】")]),t("p",{staticClass:"description"},[e._v("【下单说明】欠费停机可充，写好转网及虚商号码不可充，0到72小时内到账，急用勿充。有可能会分批到账，到账后可登录运营商官方掌厅查询到账情况，充值前请仔细核对充值号码和充值金额后再下单，充错后无法退换。本充值服务不提供发票，下单代表同意该【下单说明】")])],1)])},o=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"payPhoneConfirm_box flex"},[t("p",{staticClass:"payPhoneConfirm_box_text3"},[e._v("支付方式：")]),t("p",{staticClass:"payPhoneConfirm_box_text4"},[t("i",{staticClass:"icon_wechat"}),t("span",[e._v("微信支付")])])])}],i=(t("49fb"),{actualAmount:0,payAmount:0,appVersion:dsBridge.call("lyh5x.device.appVersion"),battery:dsBridge.call("lyh5x.device.battery"),brand:dsBridge.call("lyh5x.device.brand"),connectionType:dsBridge.call("lyh5x.device.connectionType"),deviceType:dsBridge.call("lyh5x.device.deviceType"),hardware:dsBridge.call("lyh5x.device.hardware"),idfa:dsBridge.call("lyh5x.device.idfa"),idfv:dsBridge.call("lyh5x.device.idfv"),imsi:dsBridge.call("lyh5x.device.imsi"),ip:dsBridge.call("lyh5x.device.ip"),language:dsBridge.call("lyh5x.device.language"),manufacturer:dsBridge.call("lyh5x.device.manufacturer"),mno:dsBridge.call("lyh5x.device.mno"),model:dsBridge.call("lyh5x.device.model"),operatorType:dsBridge.call("lyh5x.device.operatorType"),osType:dsBridge.call("lyh5x.device.osType"),osVersion:dsBridge.call("lyh5x.device.osVersion"),packageName:dsBridge.call("lyh5x.device.packageName"),pushVersion:dsBridge.call("lyh5x.device.pushVersion"),screenBrightness:dsBridge.call("lyh5x.device.screenBrightness"),screenDensity:dsBridge.call("lyh5x.device.screenDensity"),screenHeight:dsBridge.call("lyh5x.device.screenHeight"),screenSize:dsBridge.call("lyh5x.device.screenSize"),screenType:dsBridge.call("lyh5x.device.screenType"),screenWidth:dsBridge.call("lyh5x.device.screenWidth"),udid:dsBridge.call("lyh5x.device.udid"),usbState:dsBridge.call("lyh5x.device.usbState"),uuid:dsBridge.call("lyh5x.device.uuid"),vendor:dsBridge.call("lyh5x.device.vendor")}),c={name:"payPhoneConfirm",data:function(){return{checked:!0,payData:{},phone:"",cashBack:"",discount:""}},mounted:function(){var e=this;console.log(e.$route.query),e.payData=e.$route.query.itemData,e.phone=e.$route.query.mobile,e.cashBack=e.$route.query.cashBack,e.discount=e.$route.query.discount;var a=localStorage.getItem("obj");e.obj=JSON.parse(a)},methods:{goBack:function(){this.$router.back()},pay:function(){var e=this;if(e.checked){i.mobile=e.phone,i.actualAmount=e.payData.amount,i.payAmount=e.payData.payAmount,i.cardId=e.$store.state.bond.id,i.imgUrl=e.payData.imgUrl;var a=Object.assign(e.obj,i);console.log(a);var t=e.byte256.byte256.encode(e.key,JSON.stringify(a));e.$axios({method:"post",url:"/recharge/pay",data:t}).then((function(a){if(console.log(a),200===a.data.code){var t=JSON.parse(e.byte256.byte256.decode(e.reverse_key,a.data.data));console.log(t),1==t.type?(e.$toast("充值成功"),e.rechargeGetInfo(t.orderNo)):(dsBridge.call("lyh5x.wxapi.registerApp",{wxAppId:t.wxAppId,universalLink:t.universalLink}),dsBridge.call("lyh5x.wxapi.pay",{prepayId:t.prepayId,mchId:t.mchId,packageStr:t.packageStr,noncestr:t.noncestr,timestamp:t.timestamp,sign:t.sign,universalLink:t.universalLink},(function(a){console.log("支付===",a),"success"===a?e.rechargeGetInfo(t.orderNo):e.$toast("支付失败")})))}else e.$toast(a.data.msg)}))}},rechargeGetInfo:function(e){var a=this,t={amount:0,id:""};a.$store.commit("selectBond",t);var s={orderNo:e},o=Object.assign(a.obj,s);console.log(o);var i=a.byte256.byte256.encode(a.key,JSON.stringify(o));a.$axios({method:"post",url:"/recharge/getInfo",data:i}).then((function(e){if(console.log(e),200===e.data.code){var t=JSON.parse(a.byte256.byte256.decode(a.reverse_key,e.data.data));console.log(t),a.goPhoneBillDetails(t)}}))},goPhoneBillDetails:function(e){this.$router.push({path:"/phoneBillDetails",query:{item:e}})},selectBond:function(){this.$router.push({path:"/myCoupons",query:{type:1}})}}},n=c,r=(t("7f46"),t("2877")),l=Object(r["a"])(n,s,o,!1,null,"3471302a",null);a["default"]=l.exports},c752:function(e,a,t){}}]);
//# sourceMappingURL=chunk-fd5b6136.446f4d50.js.map